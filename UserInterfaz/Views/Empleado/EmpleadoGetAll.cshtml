@model BusinessLayer.Empleado

@{
    ViewBag.Title = "EmpleadoGetAll";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div >
    <h2>Lista de Empleados </h2>
</div>
<div class="row">

    <div class="col-md-3">
        <a href="@Url.Action("Formulario", "Empleado")" class="btn btn-success"><i class="bi bi-person-fill-add"></i></a>
    </div>

</div>
<br>
<br>


@if (Model == null)
{

    <div class="alert alert-warning" role="alert">
        Ocurrio Error!
    </div>
}
else
{
    <div class="table-responsive">
        <table class="table align-middle table table-dark table-bordered" id="tabla">
            <thead>
                <tr>

                    <th scope="col">ID</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellidos</th>
                    <th scope="col">Fecha de Nacimiento</th>
                    <th scope="col">Sueldo</th>
                    <th scope="col">Área</th>
                    <th scope="col">Editar</th>
                    <th scope="col">Eliminar </th>

                </tr>
            </thead>
            <tbody>
                @foreach (BusinessLayer.Empleado empleado in Model.Empleados)
                {
                    <tr>

                        <td> @empleado.IdEmpleado</td>
                        <td> @empleado.Nombre</td>
                        <td> @empleado.ApellidoPaterno  @empleado.ApellidoMaterno</td>
                        <td> @empleado.FechaNacimiento</td>
                        <td> @empleado.Sueldo</td>
                        <td> @empleado.Area.Nombre</td>
                        <td> <a href="@Url.Action("Formulario", "Empleado", new {IdEmpleado = empleado.IdEmpleado })" class="btn btn-warning"><i class="bi bi-person-fill-gear"></i></a> </td>
                        <td>  <a href="@Url.Action("Delete", "Empleado",new {EmpleadoID = empleado.IdEmpleado })" class="btn btn-danger"><i class="bi bi-trash3-fill"></i></a> </td>



                    </tr>

                }
            </tbody>
        </table>
    </div>
}

<script src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/dataTables.material.min.js"></script>
<script src="https://cdn.datatables.net/1.13.1/js/dataTables.bootstrap5.min.js"></script>

<script type="text/javascript">

    $(document).ready(function () {
        $('#tabla').DataTable({
            searching: false,
            "lengthMenu": [[5, 10, 15, 20, -1], [5, 10, 15, 20, "All"]],
            autoWidth: false,
            columnDefs: [
                {
                    targets: ['_all'],
                    className: 'mdc-data-table__cell',
                },
            ],
            language: {
                url: "//cdn.datatables.net/plug-ins/9dcbecd42ad/i18n/Spanish.json",
            },

        });
    });

</script>
